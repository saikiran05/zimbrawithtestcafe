"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const types_1 = require("../types");
// @ts-ignore
const hammerhead_1 = require("../../client/core/deps/hammerhead");
const utils_1 = require("./utils");
const MOUSE_EVENT_OPTIONS = {
    clickCount: 1,
    button: 'left',
};
class ProxylessEventSimulator {
    constructor(dispatchEventFn) {
        this._dispatchEventFn = dispatchEventFn;
    }
    _createMouseEventOptions(type, options) {
        return hammerhead_1.utils.extend({
            x: options.options.clientX,
            y: options.options.clientY,
            modifiers: (0, utils_1.calculateKeyModifiersValue)(options.options),
            button: (0, utils_1.calculateMouseButtonValue)(options.options),
            type,
        }, MOUSE_EVENT_OPTIONS);
    }
    mouseDown(options) {
        const eventOptions = this._createMouseEventOptions('mousePressed', options);
        return this._dispatchEventFn(types_1.EventType.Mouse, eventOptions);
    }
    mouseUp(options) {
        const eventOptions = this._createMouseEventOptions('mouseReleased', options);
        return this._dispatchEventFn(types_1.EventType.Mouse, eventOptions);
    }
}
exports.default = ProxylessEventSimulator;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXZlbnQtc2ltdWxhdG9yLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Byb3h5bGVzcy9jbGllbnQvZXZlbnQtc2ltdWxhdG9yLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsb0NBQXFDO0FBQ3JDLGFBQWE7QUFDYixrRUFBMEQ7QUFDMUQsbUNBQWdGO0FBRWhGLE1BQU0sbUJBQW1CLEdBQUc7SUFDeEIsVUFBVSxFQUFFLENBQUM7SUFDYixNQUFNLEVBQU0sTUFBTTtDQUNyQixDQUFDO0FBRUYsTUFBcUIsdUJBQXVCO0lBR3hDLFlBQWEsZUFBeUI7UUFDbEMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGVBQWUsQ0FBQztJQUM1QyxDQUFDO0lBRU8sd0JBQXdCLENBQUUsSUFBWSxFQUFFLE9BQVk7UUFDeEQsT0FBTyxrQkFBSyxDQUFDLE1BQU0sQ0FBQztZQUNoQixDQUFDLEVBQVUsT0FBTyxDQUFDLE9BQU8sQ0FBQyxPQUFPO1lBQ2xDLENBQUMsRUFBVSxPQUFPLENBQUMsT0FBTyxDQUFDLE9BQU87WUFDbEMsU0FBUyxFQUFFLElBQUEsa0NBQTBCLEVBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQztZQUN0RCxNQUFNLEVBQUssSUFBQSxpQ0FBeUIsRUFBQyxPQUFPLENBQUMsT0FBTyxDQUFDO1lBQ3JELElBQUk7U0FDUCxFQUFFLG1CQUFtQixDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUVNLFNBQVMsQ0FBRSxPQUFZO1FBQzFCLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxjQUFjLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFNUUsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsaUJBQVMsQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDaEUsQ0FBQztJQUVNLE9BQU8sQ0FBRSxPQUFZO1FBQ3hCLE1BQU0sWUFBWSxHQUFHLElBQUksQ0FBQyx3QkFBd0IsQ0FBQyxlQUFlLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFFN0UsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsaUJBQVMsQ0FBQyxLQUFLLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDaEUsQ0FBQztDQUNKO0FBNUJELDBDQTRCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gJy4uL3R5cGVzJztcbi8vIEB0cy1pZ25vcmVcbmltcG9ydCB7IHV0aWxzIH0gZnJvbSAnLi4vLi4vY2xpZW50L2NvcmUvZGVwcy9oYW1tZXJoZWFkJztcbmltcG9ydCB7IGNhbGN1bGF0ZUtleU1vZGlmaWVyc1ZhbHVlLCBjYWxjdWxhdGVNb3VzZUJ1dHRvblZhbHVlIH0gZnJvbSAnLi91dGlscyc7XG5cbmNvbnN0IE1PVVNFX0VWRU5UX09QVElPTlMgPSB7XG4gICAgY2xpY2tDb3VudDogMSxcbiAgICBidXR0b246ICAgICAnbGVmdCcsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm94eWxlc3NFdmVudFNpbXVsYXRvciB7XG5cbiAgICBwcml2YXRlIHJlYWRvbmx5IF9kaXNwYXRjaEV2ZW50Rm46IEZ1bmN0aW9uO1xuICAgIGNvbnN0cnVjdG9yIChkaXNwYXRjaEV2ZW50Rm46IEZ1bmN0aW9uKSB7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnRGbiA9IGRpc3BhdGNoRXZlbnRGbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIF9jcmVhdGVNb3VzZUV2ZW50T3B0aW9ucyAodHlwZTogc3RyaW5nLCBvcHRpb25zOiBhbnkpOiBhbnkge1xuICAgICAgICByZXR1cm4gdXRpbHMuZXh0ZW5kKHtcbiAgICAgICAgICAgIHg6ICAgICAgICAgb3B0aW9ucy5vcHRpb25zLmNsaWVudFgsXG4gICAgICAgICAgICB5OiAgICAgICAgIG9wdGlvbnMub3B0aW9ucy5jbGllbnRZLFxuICAgICAgICAgICAgbW9kaWZpZXJzOiBjYWxjdWxhdGVLZXlNb2RpZmllcnNWYWx1ZShvcHRpb25zLm9wdGlvbnMpLFxuICAgICAgICAgICAgYnV0dG9uOiAgICBjYWxjdWxhdGVNb3VzZUJ1dHRvblZhbHVlKG9wdGlvbnMub3B0aW9ucyksXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICB9LCBNT1VTRV9FVkVOVF9PUFRJT05TKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgbW91c2VEb3duIChvcHRpb25zOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZXZlbnRPcHRpb25zID0gdGhpcy5fY3JlYXRlTW91c2VFdmVudE9wdGlvbnMoJ21vdXNlUHJlc3NlZCcsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNwYXRjaEV2ZW50Rm4oRXZlbnRUeXBlLk1vdXNlLCBldmVudE9wdGlvbnMpO1xuICAgIH1cblxuICAgIHB1YmxpYyBtb3VzZVVwIChvcHRpb25zOiBhbnkpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgZXZlbnRPcHRpb25zID0gdGhpcy5fY3JlYXRlTW91c2VFdmVudE9wdGlvbnMoJ21vdXNlUmVsZWFzZWQnLCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fZGlzcGF0Y2hFdmVudEZuKEV2ZW50VHlwZS5Nb3VzZSwgZXZlbnRPcHRpb25zKTtcbiAgICB9XG59XG4iXX0=